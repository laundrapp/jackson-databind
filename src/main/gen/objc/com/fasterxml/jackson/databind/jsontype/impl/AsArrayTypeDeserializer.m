//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/Salton/Documents/Projects/jackson-databind/src/main/java/com/fasterxml/jackson/databind/jsontype/impl/AsArrayTypeDeserializer.java
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "com/fasterxml/jackson/annotation/JsonTypeInfo.h"
#include "com/fasterxml/jackson/core/JsonParser.h"
#include "com/fasterxml/jackson/core/JsonToken.h"
#include "com/fasterxml/jackson/core/util/JsonParserSequence.h"
#include "com/fasterxml/jackson/databind/BeanProperty.h"
#include "com/fasterxml/jackson/databind/DeserializationContext.h"
#include "com/fasterxml/jackson/databind/JavaType.h"
#include "com/fasterxml/jackson/databind/JsonDeserializer.h"
#include "com/fasterxml/jackson/databind/jsontype/TypeDeserializer.h"
#include "com/fasterxml/jackson/databind/jsontype/TypeIdResolver.h"
#include "com/fasterxml/jackson/databind/jsontype/impl/AsArrayTypeDeserializer.h"
#include "com/fasterxml/jackson/databind/jsontype/impl/TypeDeserializerBase.h"
#include "com/fasterxml/jackson/databind/util/TokenBuffer.h"

inline jlong ComFasterxmlJacksonDatabindJsontypeImplAsArrayTypeDeserializer_get_serialVersionUID(void);
#define ComFasterxmlJacksonDatabindJsontypeImplAsArrayTypeDeserializer_serialVersionUID 1LL
J2OBJC_STATIC_FIELD_CONSTANT(ComFasterxmlJacksonDatabindJsontypeImplAsArrayTypeDeserializer, serialVersionUID, jlong)

@implementation ComFasterxmlJacksonDatabindJsontypeImplAsArrayTypeDeserializer

- (instancetype __nonnull)initWithComFasterxmlJacksonDatabindJavaType:(ComFasterxmlJacksonDatabindJavaType *)bt
                withComFasterxmlJacksonDatabindJsontypeTypeIdResolver:(id<ComFasterxmlJacksonDatabindJsontypeTypeIdResolver>)idRes
                                                         withNSString:(NSString *)typePropertyName
                                                          withBoolean:(jboolean)typeIdVisible
                              withComFasterxmlJacksonDatabindJavaType:(ComFasterxmlJacksonDatabindJavaType *)defaultImpl {
  ComFasterxmlJacksonDatabindJsontypeImplAsArrayTypeDeserializer_initWithComFasterxmlJacksonDatabindJavaType_withComFasterxmlJacksonDatabindJsontypeTypeIdResolver_withNSString_withBoolean_withComFasterxmlJacksonDatabindJavaType_(self, bt, idRes, typePropertyName, typeIdVisible, defaultImpl);
  return self;
}

- (instancetype __nonnull)initWithComFasterxmlJacksonDatabindJsontypeImplAsArrayTypeDeserializer:(ComFasterxmlJacksonDatabindJsontypeImplAsArrayTypeDeserializer *)src
                                                     withComFasterxmlJacksonDatabindBeanProperty:(id<ComFasterxmlJacksonDatabindBeanProperty>)property {
  ComFasterxmlJacksonDatabindJsontypeImplAsArrayTypeDeserializer_initWithComFasterxmlJacksonDatabindJsontypeImplAsArrayTypeDeserializer_withComFasterxmlJacksonDatabindBeanProperty_(self, src, property);
  return self;
}

- (ComFasterxmlJacksonDatabindJsontypeTypeDeserializer *)forPropertyWithComFasterxmlJacksonDatabindBeanProperty:(id<ComFasterxmlJacksonDatabindBeanProperty>)prop {
  return (prop == _property_) ? self : create_ComFasterxmlJacksonDatabindJsontypeImplAsArrayTypeDeserializer_initWithComFasterxmlJacksonDatabindJsontypeImplAsArrayTypeDeserializer_withComFasterxmlJacksonDatabindBeanProperty_(self, prop);
}

- (ComFasterxmlJacksonAnnotationJsonTypeInfo_As *)getTypeInclusion {
  return JreLoadEnum(ComFasterxmlJacksonAnnotationJsonTypeInfo_As, WRAPPER_ARRAY);
}

- (id)deserializeTypedFromArrayWithComFasterxmlJacksonCoreJsonParser:(ComFasterxmlJacksonCoreJsonParser *)jp
               withComFasterxmlJacksonDatabindDeserializationContext:(ComFasterxmlJacksonDatabindDeserializationContext *)ctxt {
  return [self _deserializeWithComFasterxmlJacksonCoreJsonParser:jp withComFasterxmlJacksonDatabindDeserializationContext:ctxt];
}

- (id)deserializeTypedFromObjectWithComFasterxmlJacksonCoreJsonParser:(ComFasterxmlJacksonCoreJsonParser *)jp
                withComFasterxmlJacksonDatabindDeserializationContext:(ComFasterxmlJacksonDatabindDeserializationContext *)ctxt {
  return [self _deserializeWithComFasterxmlJacksonCoreJsonParser:jp withComFasterxmlJacksonDatabindDeserializationContext:ctxt];
}

- (id)deserializeTypedFromScalarWithComFasterxmlJacksonCoreJsonParser:(ComFasterxmlJacksonCoreJsonParser *)jp
                withComFasterxmlJacksonDatabindDeserializationContext:(ComFasterxmlJacksonDatabindDeserializationContext *)ctxt {
  return [self _deserializeWithComFasterxmlJacksonCoreJsonParser:jp withComFasterxmlJacksonDatabindDeserializationContext:ctxt];
}

- (id)deserializeTypedFromAnyWithComFasterxmlJacksonCoreJsonParser:(ComFasterxmlJacksonCoreJsonParser *)jp
             withComFasterxmlJacksonDatabindDeserializationContext:(ComFasterxmlJacksonDatabindDeserializationContext *)ctxt {
  return [self _deserializeWithComFasterxmlJacksonCoreJsonParser:jp withComFasterxmlJacksonDatabindDeserializationContext:ctxt];
}

- (id)_deserializeWithComFasterxmlJacksonCoreJsonParser:(ComFasterxmlJacksonCoreJsonParser *)p
  withComFasterxmlJacksonDatabindDeserializationContext:(ComFasterxmlJacksonDatabindDeserializationContext *)ctxt {
  if ([((ComFasterxmlJacksonCoreJsonParser *) nil_chk(p)) canReadTypeId]) {
    id typeId = [p getTypeId];
    if (typeId != nil) {
      return [self _deserializeWithNativeTypeIdWithComFasterxmlJacksonCoreJsonParser:p withComFasterxmlJacksonDatabindDeserializationContext:ctxt withId:typeId];
    }
  }
  jboolean hadStartArray = [p isExpectedStartArrayToken];
  NSString *typeId = [self _locateTypeIdWithComFasterxmlJacksonCoreJsonParser:p withComFasterxmlJacksonDatabindDeserializationContext:ctxt];
  ComFasterxmlJacksonDatabindJsonDeserializer *deser = [self _findDeserializerWithComFasterxmlJacksonDatabindDeserializationContext:ctxt withNSString:typeId];
  if (_typeIdVisible_ && ![self _usesExternalId] && [p getCurrentToken] == JreLoadEnum(ComFasterxmlJacksonCoreJsonToken, START_OBJECT)) {
    ComFasterxmlJacksonDatabindUtilTokenBuffer *tb = create_ComFasterxmlJacksonDatabindUtilTokenBuffer_initWithComFasterxmlJacksonCoreObjectCodec_withBoolean_(nil, false);
    [tb writeStartObject];
    [tb writeFieldNameWithNSString:_typePropertyName_];
    [tb writeStringWithNSString:typeId];
    [p clearCurrentToken];
    p = ComFasterxmlJacksonCoreUtilJsonParserSequence_createFlattenedWithBoolean_withComFasterxmlJacksonCoreJsonParser_withComFasterxmlJacksonCoreJsonParser_(false, [tb asParserWithComFasterxmlJacksonCoreJsonParser:p], p);
    [((ComFasterxmlJacksonCoreJsonParser *) nil_chk(p)) nextToken];
  }
  id value = [((ComFasterxmlJacksonDatabindJsonDeserializer *) nil_chk(deser)) deserializeWithComFasterxmlJacksonCoreJsonParser:p withComFasterxmlJacksonDatabindDeserializationContext:ctxt];
  if (hadStartArray && [p nextToken] != JreLoadEnum(ComFasterxmlJacksonCoreJsonToken, END_ARRAY)) {
    [((ComFasterxmlJacksonDatabindDeserializationContext *) nil_chk(ctxt)) reportWrongTokenExceptionWithComFasterxmlJacksonDatabindJavaType:[self baseType] withComFasterxmlJacksonCoreJsonToken:JreLoadEnum(ComFasterxmlJacksonCoreJsonToken, END_ARRAY) withNSString:@"expected closing END_ARRAY after type information and deserialized value" withNSObjectArray:[IOSObjectArray arrayWithLength:0 type:NSObject_class_()]];
  }
  return value;
}

- (NSString *)_locateTypeIdWithComFasterxmlJacksonCoreJsonParser:(ComFasterxmlJacksonCoreJsonParser *)p
           withComFasterxmlJacksonDatabindDeserializationContext:(ComFasterxmlJacksonDatabindDeserializationContext *)ctxt {
  if (![((ComFasterxmlJacksonCoreJsonParser *) nil_chk(p)) isExpectedStartArrayToken]) {
    if (_defaultImpl_ != nil) {
      return [((id<ComFasterxmlJacksonDatabindJsontypeTypeIdResolver>) nil_chk(_idResolver_)) idFromBaseType];
    }
    [((ComFasterxmlJacksonDatabindDeserializationContext *) nil_chk(ctxt)) reportWrongTokenExceptionWithComFasterxmlJacksonDatabindJavaType:[self baseType] withComFasterxmlJacksonCoreJsonToken:JreLoadEnum(ComFasterxmlJacksonCoreJsonToken, START_ARRAY) withNSString:JreStrcat("$$", @"need JSON Array to contain As.WRAPPER_ARRAY type information for class ", [self baseTypeName]) withNSObjectArray:[IOSObjectArray arrayWithLength:0 type:NSObject_class_()]];
    return nil;
  }
  ComFasterxmlJacksonCoreJsonToken *t = [p nextToken];
  if (t == JreLoadEnum(ComFasterxmlJacksonCoreJsonToken, VALUE_STRING)) {
    NSString *result = [p getText];
    [p nextToken];
    return result;
  }
  if (_defaultImpl_ != nil) {
    return [((id<ComFasterxmlJacksonDatabindJsontypeTypeIdResolver>) nil_chk(_idResolver_)) idFromBaseType];
  }
  [((ComFasterxmlJacksonDatabindDeserializationContext *) nil_chk(ctxt)) reportWrongTokenExceptionWithComFasterxmlJacksonDatabindJavaType:[self baseType] withComFasterxmlJacksonCoreJsonToken:JreLoadEnum(ComFasterxmlJacksonCoreJsonToken, VALUE_STRING) withNSString:@"need JSON String that contains type id (for subtype of %s)" withNSObjectArray:[IOSObjectArray arrayWithObjects:(id[]){ [self baseTypeName] } count:1 type:NSObject_class_()]];
  return nil;
}

- (jboolean)_usesExternalId {
  return false;
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, 0, -1, -1, -1, -1 },
    { NULL, NULL, 0x1, -1, 1, -1, -1, -1, -1 },
    { NULL, "LComFasterxmlJacksonDatabindJsontypeTypeDeserializer;", 0x1, 2, 3, -1, -1, -1, -1 },
    { NULL, "LComFasterxmlJacksonAnnotationJsonTypeInfo_As;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LNSObject;", 0x1, 4, 5, 6, -1, -1, -1 },
    { NULL, "LNSObject;", 0x1, 7, 5, 6, -1, -1, -1 },
    { NULL, "LNSObject;", 0x1, 8, 5, 6, -1, -1, -1 },
    { NULL, "LNSObject;", 0x1, 9, 5, 6, -1, -1, -1 },
    { NULL, "LNSObject;", 0x4, 10, 5, 6, -1, -1, -1 },
    { NULL, "LNSString;", 0x4, 11, 5, 6, -1, -1, -1 },
    { NULL, "Z", 0x4, -1, -1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithComFasterxmlJacksonDatabindJavaType:withComFasterxmlJacksonDatabindJsontypeTypeIdResolver:withNSString:withBoolean:withComFasterxmlJacksonDatabindJavaType:);
  methods[1].selector = @selector(initWithComFasterxmlJacksonDatabindJsontypeImplAsArrayTypeDeserializer:withComFasterxmlJacksonDatabindBeanProperty:);
  methods[2].selector = @selector(forPropertyWithComFasterxmlJacksonDatabindBeanProperty:);
  methods[3].selector = @selector(getTypeInclusion);
  methods[4].selector = @selector(deserializeTypedFromArrayWithComFasterxmlJacksonCoreJsonParser:withComFasterxmlJacksonDatabindDeserializationContext:);
  methods[5].selector = @selector(deserializeTypedFromObjectWithComFasterxmlJacksonCoreJsonParser:withComFasterxmlJacksonDatabindDeserializationContext:);
  methods[6].selector = @selector(deserializeTypedFromScalarWithComFasterxmlJacksonCoreJsonParser:withComFasterxmlJacksonDatabindDeserializationContext:);
  methods[7].selector = @selector(deserializeTypedFromAnyWithComFasterxmlJacksonCoreJsonParser:withComFasterxmlJacksonDatabindDeserializationContext:);
  methods[8].selector = @selector(_deserializeWithComFasterxmlJacksonCoreJsonParser:withComFasterxmlJacksonDatabindDeserializationContext:);
  methods[9].selector = @selector(_locateTypeIdWithComFasterxmlJacksonCoreJsonParser:withComFasterxmlJacksonDatabindDeserializationContext:);
  methods[10].selector = @selector(_usesExternalId);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "serialVersionUID", "J", .constantValue.asLong = ComFasterxmlJacksonDatabindJsontypeImplAsArrayTypeDeserializer_serialVersionUID, 0x1a, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LComFasterxmlJacksonDatabindJavaType;LComFasterxmlJacksonDatabindJsontypeTypeIdResolver;LNSString;ZLComFasterxmlJacksonDatabindJavaType;", "LComFasterxmlJacksonDatabindJsontypeImplAsArrayTypeDeserializer;LComFasterxmlJacksonDatabindBeanProperty;", "forProperty", "LComFasterxmlJacksonDatabindBeanProperty;", "deserializeTypedFromArray", "LComFasterxmlJacksonCoreJsonParser;LComFasterxmlJacksonDatabindDeserializationContext;", "LJavaIoIOException;", "deserializeTypedFromObject", "deserializeTypedFromScalar", "deserializeTypedFromAny", "_deserialize", "_locateTypeId" };
  static const J2ObjcClassInfo _ComFasterxmlJacksonDatabindJsontypeImplAsArrayTypeDeserializer = { "AsArrayTypeDeserializer", "com.fasterxml.jackson.databind.jsontype.impl", ptrTable, methods, fields, 7, 0x1, 11, 1, -1, -1, -1, -1, -1 };
  return &_ComFasterxmlJacksonDatabindJsontypeImplAsArrayTypeDeserializer;
}

@end

void ComFasterxmlJacksonDatabindJsontypeImplAsArrayTypeDeserializer_initWithComFasterxmlJacksonDatabindJavaType_withComFasterxmlJacksonDatabindJsontypeTypeIdResolver_withNSString_withBoolean_withComFasterxmlJacksonDatabindJavaType_(ComFasterxmlJacksonDatabindJsontypeImplAsArrayTypeDeserializer *self, ComFasterxmlJacksonDatabindJavaType *bt, id<ComFasterxmlJacksonDatabindJsontypeTypeIdResolver> idRes, NSString *typePropertyName, jboolean typeIdVisible, ComFasterxmlJacksonDatabindJavaType *defaultImpl) {
  ComFasterxmlJacksonDatabindJsontypeImplTypeDeserializerBase_initWithComFasterxmlJacksonDatabindJavaType_withComFasterxmlJacksonDatabindJsontypeTypeIdResolver_withNSString_withBoolean_withComFasterxmlJacksonDatabindJavaType_(self, bt, idRes, typePropertyName, typeIdVisible, defaultImpl);
}

ComFasterxmlJacksonDatabindJsontypeImplAsArrayTypeDeserializer *new_ComFasterxmlJacksonDatabindJsontypeImplAsArrayTypeDeserializer_initWithComFasterxmlJacksonDatabindJavaType_withComFasterxmlJacksonDatabindJsontypeTypeIdResolver_withNSString_withBoolean_withComFasterxmlJacksonDatabindJavaType_(ComFasterxmlJacksonDatabindJavaType *bt, id<ComFasterxmlJacksonDatabindJsontypeTypeIdResolver> idRes, NSString *typePropertyName, jboolean typeIdVisible, ComFasterxmlJacksonDatabindJavaType *defaultImpl) {
  J2OBJC_NEW_IMPL(ComFasterxmlJacksonDatabindJsontypeImplAsArrayTypeDeserializer, initWithComFasterxmlJacksonDatabindJavaType_withComFasterxmlJacksonDatabindJsontypeTypeIdResolver_withNSString_withBoolean_withComFasterxmlJacksonDatabindJavaType_, bt, idRes, typePropertyName, typeIdVisible, defaultImpl)
}

ComFasterxmlJacksonDatabindJsontypeImplAsArrayTypeDeserializer *create_ComFasterxmlJacksonDatabindJsontypeImplAsArrayTypeDeserializer_initWithComFasterxmlJacksonDatabindJavaType_withComFasterxmlJacksonDatabindJsontypeTypeIdResolver_withNSString_withBoolean_withComFasterxmlJacksonDatabindJavaType_(ComFasterxmlJacksonDatabindJavaType *bt, id<ComFasterxmlJacksonDatabindJsontypeTypeIdResolver> idRes, NSString *typePropertyName, jboolean typeIdVisible, ComFasterxmlJacksonDatabindJavaType *defaultImpl) {
  J2OBJC_CREATE_IMPL(ComFasterxmlJacksonDatabindJsontypeImplAsArrayTypeDeserializer, initWithComFasterxmlJacksonDatabindJavaType_withComFasterxmlJacksonDatabindJsontypeTypeIdResolver_withNSString_withBoolean_withComFasterxmlJacksonDatabindJavaType_, bt, idRes, typePropertyName, typeIdVisible, defaultImpl)
}

void ComFasterxmlJacksonDatabindJsontypeImplAsArrayTypeDeserializer_initWithComFasterxmlJacksonDatabindJsontypeImplAsArrayTypeDeserializer_withComFasterxmlJacksonDatabindBeanProperty_(ComFasterxmlJacksonDatabindJsontypeImplAsArrayTypeDeserializer *self, ComFasterxmlJacksonDatabindJsontypeImplAsArrayTypeDeserializer *src, id<ComFasterxmlJacksonDatabindBeanProperty> property) {
  ComFasterxmlJacksonDatabindJsontypeImplTypeDeserializerBase_initWithComFasterxmlJacksonDatabindJsontypeImplTypeDeserializerBase_withComFasterxmlJacksonDatabindBeanProperty_(self, src, property);
}

ComFasterxmlJacksonDatabindJsontypeImplAsArrayTypeDeserializer *new_ComFasterxmlJacksonDatabindJsontypeImplAsArrayTypeDeserializer_initWithComFasterxmlJacksonDatabindJsontypeImplAsArrayTypeDeserializer_withComFasterxmlJacksonDatabindBeanProperty_(ComFasterxmlJacksonDatabindJsontypeImplAsArrayTypeDeserializer *src, id<ComFasterxmlJacksonDatabindBeanProperty> property) {
  J2OBJC_NEW_IMPL(ComFasterxmlJacksonDatabindJsontypeImplAsArrayTypeDeserializer, initWithComFasterxmlJacksonDatabindJsontypeImplAsArrayTypeDeserializer_withComFasterxmlJacksonDatabindBeanProperty_, src, property)
}

ComFasterxmlJacksonDatabindJsontypeImplAsArrayTypeDeserializer *create_ComFasterxmlJacksonDatabindJsontypeImplAsArrayTypeDeserializer_initWithComFasterxmlJacksonDatabindJsontypeImplAsArrayTypeDeserializer_withComFasterxmlJacksonDatabindBeanProperty_(ComFasterxmlJacksonDatabindJsontypeImplAsArrayTypeDeserializer *src, id<ComFasterxmlJacksonDatabindBeanProperty> property) {
  J2OBJC_CREATE_IMPL(ComFasterxmlJacksonDatabindJsontypeImplAsArrayTypeDeserializer, initWithComFasterxmlJacksonDatabindJsontypeImplAsArrayTypeDeserializer_withComFasterxmlJacksonDatabindBeanProperty_, src, property)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComFasterxmlJacksonDatabindJsontypeImplAsArrayTypeDeserializer)
