//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/Salton/Documents/Projects/jackson-databind/src/main/java/com/fasterxml/jackson/databind/ser/std/ReferenceTypeSerializer.java
//

#include "IOSClass.h"
#include "J2ObjC_source.h"
#include "com/fasterxml/jackson/annotation/JsonInclude.h"
#include "com/fasterxml/jackson/core/JsonGenerator.h"
#include "com/fasterxml/jackson/databind/AnnotationIntrospector.h"
#include "com/fasterxml/jackson/databind/BeanProperty.h"
#include "com/fasterxml/jackson/databind/JavaType.h"
#include "com/fasterxml/jackson/databind/JsonMappingException.h"
#include "com/fasterxml/jackson/databind/JsonSerializer.h"
#include "com/fasterxml/jackson/databind/MapperFeature.h"
#include "com/fasterxml/jackson/databind/RuntimeJsonMappingException.h"
#include "com/fasterxml/jackson/databind/SerializationConfig.h"
#include "com/fasterxml/jackson/databind/SerializerProvider.h"
#include "com/fasterxml/jackson/databind/annotation/JsonSerialize.h"
#include "com/fasterxml/jackson/databind/introspect/Annotated.h"
#include "com/fasterxml/jackson/databind/introspect/AnnotatedMember.h"
#include "com/fasterxml/jackson/databind/jsonFormatVisitors/JsonFormatVisitorWrapper.h"
#include "com/fasterxml/jackson/databind/jsontype/TypeSerializer.h"
#include "com/fasterxml/jackson/databind/ser/impl/PropertySerializerMap.h"
#include "com/fasterxml/jackson/databind/ser/std/ReferenceTypeSerializer.h"
#include "com/fasterxml/jackson/databind/ser/std/StdSerializer.h"
#include "com/fasterxml/jackson/databind/type/ReferenceType.h"
#include "com/fasterxml/jackson/databind/util/ArrayBuilders.h"
#include "com/fasterxml/jackson/databind/util/BeanUtil.h"
#include "com/fasterxml/jackson/databind/util/NameTransformer.h"

@interface ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer ()

/*!
 @brief Helper method that encapsulates logic of retrieving and caching required
  serializer.
 */
- (ComFasterxmlJacksonDatabindJsonSerializer *)_findCachedSerializerWithComFasterxmlJacksonDatabindSerializerProvider:(ComFasterxmlJacksonDatabindSerializerProvider *)provider
                                                                                                         withIOSClass:(IOSClass *)type;

- (ComFasterxmlJacksonDatabindJsonSerializer *)_findSerializerWithComFasterxmlJacksonDatabindSerializerProvider:(ComFasterxmlJacksonDatabindSerializerProvider *)provider
                                                                                                   withIOSClass:(IOSClass *)type
                                                                    withComFasterxmlJacksonDatabindBeanProperty:(id<ComFasterxmlJacksonDatabindBeanProperty>)prop;

- (ComFasterxmlJacksonDatabindJsonSerializer *)_findSerializerWithComFasterxmlJacksonDatabindSerializerProvider:(ComFasterxmlJacksonDatabindSerializerProvider *)provider
                                                                        withComFasterxmlJacksonDatabindJavaType:(ComFasterxmlJacksonDatabindJavaType *)type
                                                                    withComFasterxmlJacksonDatabindBeanProperty:(id<ComFasterxmlJacksonDatabindBeanProperty>)prop;

@end

inline jlong ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer_get_serialVersionUID(void);
#define ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer_serialVersionUID 1LL
J2OBJC_STATIC_FIELD_CONSTANT(ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer, serialVersionUID, jlong)

__attribute__((unused)) static ComFasterxmlJacksonDatabindJsonSerializer *ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer__findCachedSerializerWithComFasterxmlJacksonDatabindSerializerProvider_withIOSClass_(ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer *self, ComFasterxmlJacksonDatabindSerializerProvider *provider, IOSClass *type);

__attribute__((unused)) static ComFasterxmlJacksonDatabindJsonSerializer *ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer__findSerializerWithComFasterxmlJacksonDatabindSerializerProvider_withIOSClass_withComFasterxmlJacksonDatabindBeanProperty_(ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer *self, ComFasterxmlJacksonDatabindSerializerProvider *provider, IOSClass *type, id<ComFasterxmlJacksonDatabindBeanProperty> prop);

__attribute__((unused)) static ComFasterxmlJacksonDatabindJsonSerializer *ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer__findSerializerWithComFasterxmlJacksonDatabindSerializerProvider_withComFasterxmlJacksonDatabindJavaType_withComFasterxmlJacksonDatabindBeanProperty_(ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer *self, ComFasterxmlJacksonDatabindSerializerProvider *provider, ComFasterxmlJacksonDatabindJavaType *type, id<ComFasterxmlJacksonDatabindBeanProperty> prop);

J2OBJC_INITIALIZED_DEFN(ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer)

id ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer_MARKER_FOR_EMPTY;

@implementation ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer

- (instancetype __nonnull)initWithComFasterxmlJacksonDatabindTypeReferenceType:(ComFasterxmlJacksonDatabindTypeReferenceType *)fullType
                                                                   withBoolean:(jboolean)staticTyping
                         withComFasterxmlJacksonDatabindJsontypeTypeSerializer:(ComFasterxmlJacksonDatabindJsontypeTypeSerializer *)vts
                                 withComFasterxmlJacksonDatabindJsonSerializer:(ComFasterxmlJacksonDatabindJsonSerializer *)ser {
  ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer_initWithComFasterxmlJacksonDatabindTypeReferenceType_withBoolean_withComFasterxmlJacksonDatabindJsontypeTypeSerializer_withComFasterxmlJacksonDatabindJsonSerializer_(self, fullType, staticTyping, vts, ser);
  return self;
}

- (instancetype __nonnull)initWithComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer:(ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer *)base
                                               withComFasterxmlJacksonDatabindBeanProperty:(id<ComFasterxmlJacksonDatabindBeanProperty>)property
                                     withComFasterxmlJacksonDatabindJsontypeTypeSerializer:(ComFasterxmlJacksonDatabindJsontypeTypeSerializer *)vts
                                             withComFasterxmlJacksonDatabindJsonSerializer:(ComFasterxmlJacksonDatabindJsonSerializer *)valueSer
                                        withComFasterxmlJacksonDatabindUtilNameTransformer:(ComFasterxmlJacksonDatabindUtilNameTransformer *)unwrapper
                                                                                    withId:(id)suppressableValue
                                                                               withBoolean:(jboolean)suppressNulls {
  ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer_initWithComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer_withComFasterxmlJacksonDatabindBeanProperty_withComFasterxmlJacksonDatabindJsontypeTypeSerializer_withComFasterxmlJacksonDatabindJsonSerializer_withComFasterxmlJacksonDatabindUtilNameTransformer_withId_withBoolean_(self, base, property, vts, valueSer, unwrapper, suppressableValue, suppressNulls);
  return self;
}

- (ComFasterxmlJacksonDatabindJsonSerializer *)unwrappingSerializerWithComFasterxmlJacksonDatabindUtilNameTransformer:(ComFasterxmlJacksonDatabindUtilNameTransformer *)transformer {
  ComFasterxmlJacksonDatabindJsonSerializer *valueSer = _valueSerializer_;
  if (valueSer != nil) {
    valueSer = [valueSer unwrappingSerializerWithComFasterxmlJacksonDatabindUtilNameTransformer:transformer];
  }
  ComFasterxmlJacksonDatabindUtilNameTransformer *unwrapper = (_unwrapper_ == nil) ? transformer : ComFasterxmlJacksonDatabindUtilNameTransformer_chainedTransformerWithComFasterxmlJacksonDatabindUtilNameTransformer_withComFasterxmlJacksonDatabindUtilNameTransformer_(transformer, _unwrapper_);
  if ((_valueSerializer_ == valueSer) && (_unwrapper_ == unwrapper)) {
    return self;
  }
  return [self withResolvedWithComFasterxmlJacksonDatabindBeanProperty:_property_ withComFasterxmlJacksonDatabindJsontypeTypeSerializer:_valueTypeSerializer_ withComFasterxmlJacksonDatabindJsonSerializer:valueSer withComFasterxmlJacksonDatabindUtilNameTransformer:unwrapper];
}

- (ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer *)withResolvedWithComFasterxmlJacksonDatabindBeanProperty:(id<ComFasterxmlJacksonDatabindBeanProperty>)prop
                                                                withComFasterxmlJacksonDatabindJsontypeTypeSerializer:(ComFasterxmlJacksonDatabindJsontypeTypeSerializer *)vts
                                                                        withComFasterxmlJacksonDatabindJsonSerializer:(ComFasterxmlJacksonDatabindJsonSerializer *)valueSer
                                                                   withComFasterxmlJacksonDatabindUtilNameTransformer:(ComFasterxmlJacksonDatabindUtilNameTransformer *)unwrapper {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
  return 0;
}

- (ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer *)withContentInclusionWithId:(id)suppressableValue
                                                                             withBoolean:(jboolean)suppressNulls {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
  return 0;
}

- (jboolean)_isValuePresentWithId:(id)value {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
  return 0;
}

- (id)_getReferencedWithId:(id)value {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
  return 0;
}

- (id)_getReferencedIfPresentWithId:(id)value {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
  return 0;
}

- (ComFasterxmlJacksonDatabindJsonSerializer *)createContextualWithComFasterxmlJacksonDatabindSerializerProvider:(ComFasterxmlJacksonDatabindSerializerProvider *)provider
                                                                     withComFasterxmlJacksonDatabindBeanProperty:(id<ComFasterxmlJacksonDatabindBeanProperty>)property {
  ComFasterxmlJacksonDatabindJsontypeTypeSerializer *typeSer = _valueTypeSerializer_;
  if (typeSer != nil) {
    typeSer = [typeSer forPropertyWithComFasterxmlJacksonDatabindBeanProperty:property];
  }
  ComFasterxmlJacksonDatabindJsonSerializer *ser = [self findAnnotatedContentSerializerWithComFasterxmlJacksonDatabindSerializerProvider:provider withComFasterxmlJacksonDatabindBeanProperty:property];
  if (ser == nil) {
    ser = _valueSerializer_;
    if (ser == nil) {
      if ([self _useStaticWithComFasterxmlJacksonDatabindSerializerProvider:provider withComFasterxmlJacksonDatabindBeanProperty:property withComFasterxmlJacksonDatabindJavaType:_referredType_]) {
        ser = ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer__findSerializerWithComFasterxmlJacksonDatabindSerializerProvider_withComFasterxmlJacksonDatabindJavaType_withComFasterxmlJacksonDatabindBeanProperty_(self, provider, _referredType_, property);
      }
    }
    else {
      ser = [((ComFasterxmlJacksonDatabindSerializerProvider *) nil_chk(provider)) handlePrimaryContextualizationWithComFasterxmlJacksonDatabindJsonSerializer:ser withComFasterxmlJacksonDatabindBeanProperty:property];
    }
  }
  ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer *refSer;
  if ((_property_ == property) && (_valueTypeSerializer_ == typeSer) && (_valueSerializer_ == ser)) {
    refSer = self;
  }
  else {
    refSer = [self withResolvedWithComFasterxmlJacksonDatabindBeanProperty:property withComFasterxmlJacksonDatabindJsontypeTypeSerializer:typeSer withComFasterxmlJacksonDatabindJsonSerializer:ser withComFasterxmlJacksonDatabindUtilNameTransformer:_unwrapper_];
  }
  if (property != nil) {
    ComFasterxmlJacksonAnnotationJsonInclude_Value *inclV = [property findPropertyInclusionWithComFasterxmlJacksonDatabindCfgMapperConfig:[((ComFasterxmlJacksonDatabindSerializerProvider *) nil_chk(provider)) getConfig] withIOSClass:[self handledType]];
    if (inclV != nil) {
      ComFasterxmlJacksonAnnotationJsonInclude_Include *incl = [inclV getContentInclusion];
      if (incl != JreLoadEnum(ComFasterxmlJacksonAnnotationJsonInclude_Include, USE_DEFAULTS)) {
        id valueToSuppress;
        jboolean suppressNulls;
        switch ([incl ordinal]) {
          case ComFasterxmlJacksonAnnotationJsonInclude_Include_Enum_NON_DEFAULT:
          valueToSuppress = ComFasterxmlJacksonDatabindUtilBeanUtil_getDefaultValueWithComFasterxmlJacksonDatabindJavaType_(_referredType_);
          suppressNulls = true;
          if (valueToSuppress != nil) {
            if ([[valueToSuppress java_getClass] isArray]) {
              valueToSuppress = ComFasterxmlJacksonDatabindUtilArrayBuilders_getArrayComparatorWithId_(valueToSuppress);
            }
          }
          break;
          case ComFasterxmlJacksonAnnotationJsonInclude_Include_Enum_NON_ABSENT:
          suppressNulls = true;
          valueToSuppress = [((ComFasterxmlJacksonDatabindJavaType *) nil_chk(_referredType_)) isReferenceType] ? ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer_MARKER_FOR_EMPTY : nil;
          break;
          case ComFasterxmlJacksonAnnotationJsonInclude_Include_Enum_NON_EMPTY:
          suppressNulls = true;
          valueToSuppress = ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer_MARKER_FOR_EMPTY;
          break;
          case ComFasterxmlJacksonAnnotationJsonInclude_Include_Enum_CUSTOM:
          valueToSuppress = [provider includeFilterInstanceWithComFasterxmlJacksonDatabindIntrospectBeanPropertyDefinition:nil withIOSClass:[inclV getContentFilter]];
          if (valueToSuppress == nil) {
            suppressNulls = true;
          }
          else {
            suppressNulls = [provider includeFilterSuppressNullsWithId:valueToSuppress];
          }
          break;
          case ComFasterxmlJacksonAnnotationJsonInclude_Include_Enum_NON_NULL:
          valueToSuppress = nil;
          suppressNulls = true;
          break;
          case ComFasterxmlJacksonAnnotationJsonInclude_Include_Enum_ALWAYS:
          default:
          valueToSuppress = nil;
          suppressNulls = false;
          break;
        }
        if ((_suppressableValue_ != valueToSuppress) || (_suppressNulls_ != suppressNulls)) {
          refSer = [((ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer *) nil_chk(refSer)) withContentInclusionWithId:valueToSuppress withBoolean:suppressNulls];
        }
      }
    }
  }
  return refSer;
}

- (jboolean)_useStaticWithComFasterxmlJacksonDatabindSerializerProvider:(ComFasterxmlJacksonDatabindSerializerProvider *)provider
                            withComFasterxmlJacksonDatabindBeanProperty:(id<ComFasterxmlJacksonDatabindBeanProperty>)property
                                withComFasterxmlJacksonDatabindJavaType:(ComFasterxmlJacksonDatabindJavaType *)referredType {
  if ([((ComFasterxmlJacksonDatabindJavaType *) nil_chk(referredType)) isJavaLangObject]) {
    return false;
  }
  if ([referredType isFinal]) {
    return true;
  }
  if ([referredType useStaticType]) {
    return true;
  }
  ComFasterxmlJacksonDatabindAnnotationIntrospector *intr = [((ComFasterxmlJacksonDatabindSerializerProvider *) nil_chk(provider)) getAnnotationIntrospector];
  if ((intr != nil) && (property != nil)) {
    ComFasterxmlJacksonDatabindIntrospectAnnotated *ann = [((id<ComFasterxmlJacksonDatabindBeanProperty>) nil_chk(property)) getMember];
    if (ann != nil) {
      ComFasterxmlJacksonDatabindAnnotationJsonSerialize_Typing *t = [((ComFasterxmlJacksonDatabindAnnotationIntrospector *) nil_chk(intr)) findSerializationTypingWithComFasterxmlJacksonDatabindIntrospectAnnotated:[property getMember]];
      if (t == JreLoadEnum(ComFasterxmlJacksonDatabindAnnotationJsonSerialize_Typing, STATIC)) {
        return true;
      }
      if (t == JreLoadEnum(ComFasterxmlJacksonDatabindAnnotationJsonSerialize_Typing, DYNAMIC)) {
        return false;
      }
    }
  }
  return [provider isEnabledWithComFasterxmlJacksonDatabindMapperFeature:JreLoadEnum(ComFasterxmlJacksonDatabindMapperFeature, USE_STATIC_TYPING)];
}

- (jboolean)isEmptyWithComFasterxmlJacksonDatabindSerializerProvider:(ComFasterxmlJacksonDatabindSerializerProvider *)provider
                                                              withId:(id)value {
  if (![self _isValuePresentWithId:value]) {
    return true;
  }
  id contents = [self _getReferencedWithId:value];
  if (contents == nil) {
    return _suppressNulls_;
  }
  if (_suppressableValue_ == nil) {
    return false;
  }
  ComFasterxmlJacksonDatabindJsonSerializer *ser = _valueSerializer_;
  if (ser == nil) {
    @try {
      ser = ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer__findCachedSerializerWithComFasterxmlJacksonDatabindSerializerProvider_withIOSClass_(self, provider, [contents java_getClass]);
    }
    @catch (ComFasterxmlJacksonDatabindJsonMappingException *e) {
      @throw create_ComFasterxmlJacksonDatabindRuntimeJsonMappingException_initWithComFasterxmlJacksonDatabindJsonMappingException_(e);
    }
  }
  if (_suppressableValue_ == ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer_MARKER_FOR_EMPTY) {
    return [((ComFasterxmlJacksonDatabindJsonSerializer *) nil_chk(ser)) isEmptyWithComFasterxmlJacksonDatabindSerializerProvider:provider withId:contents];
  }
  return [_suppressableValue_ isEqual:contents];
}

- (jboolean)isUnwrappingSerializer {
  return (_unwrapper_ != nil);
}

- (ComFasterxmlJacksonDatabindJavaType *)getReferredType {
  return _referredType_;
}

- (void)serializeWithId:(id)ref
withComFasterxmlJacksonCoreJsonGenerator:(ComFasterxmlJacksonCoreJsonGenerator *)g
withComFasterxmlJacksonDatabindSerializerProvider:(ComFasterxmlJacksonDatabindSerializerProvider *)provider {
  id value = [self _getReferencedIfPresentWithId:ref];
  if (value == nil) {
    if (_unwrapper_ == nil) {
      [((ComFasterxmlJacksonDatabindSerializerProvider *) nil_chk(provider)) defaultSerializeNullWithComFasterxmlJacksonCoreJsonGenerator:g];
    }
    return;
  }
  ComFasterxmlJacksonDatabindJsonSerializer *ser = _valueSerializer_;
  if (ser == nil) {
    ser = ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer__findCachedSerializerWithComFasterxmlJacksonDatabindSerializerProvider_withIOSClass_(self, provider, [value java_getClass]);
  }
  if (_valueTypeSerializer_ != nil) {
    [((ComFasterxmlJacksonDatabindJsonSerializer *) nil_chk(ser)) serializeWithTypeWithId:value withComFasterxmlJacksonCoreJsonGenerator:g withComFasterxmlJacksonDatabindSerializerProvider:provider withComFasterxmlJacksonDatabindJsontypeTypeSerializer:_valueTypeSerializer_];
  }
  else {
    [((ComFasterxmlJacksonDatabindJsonSerializer *) nil_chk(ser)) serializeWithId:value withComFasterxmlJacksonCoreJsonGenerator:g withComFasterxmlJacksonDatabindSerializerProvider:provider];
  }
}

- (void)serializeWithTypeWithId:(id)ref
withComFasterxmlJacksonCoreJsonGenerator:(ComFasterxmlJacksonCoreJsonGenerator *)g
withComFasterxmlJacksonDatabindSerializerProvider:(ComFasterxmlJacksonDatabindSerializerProvider *)provider
withComFasterxmlJacksonDatabindJsontypeTypeSerializer:(ComFasterxmlJacksonDatabindJsontypeTypeSerializer *)typeSer {
  id value = [self _getReferencedIfPresentWithId:ref];
  if (value == nil) {
    if (_unwrapper_ == nil) {
      [((ComFasterxmlJacksonDatabindSerializerProvider *) nil_chk(provider)) defaultSerializeNullWithComFasterxmlJacksonCoreJsonGenerator:g];
    }
    return;
  }
  ComFasterxmlJacksonDatabindJsonSerializer *ser = _valueSerializer_;
  if (ser == nil) {
    ser = ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer__findCachedSerializerWithComFasterxmlJacksonDatabindSerializerProvider_withIOSClass_(self, provider, [value java_getClass]);
  }
  [((ComFasterxmlJacksonDatabindJsonSerializer *) nil_chk(ser)) serializeWithTypeWithId:value withComFasterxmlJacksonCoreJsonGenerator:g withComFasterxmlJacksonDatabindSerializerProvider:provider withComFasterxmlJacksonDatabindJsontypeTypeSerializer:typeSer];
}

- (void)acceptJsonFormatVisitorWithComFasterxmlJacksonDatabindJsonFormatVisitorsJsonFormatVisitorWrapper:(id<ComFasterxmlJacksonDatabindJsonFormatVisitorsJsonFormatVisitorWrapper>)visitor
                                                                 withComFasterxmlJacksonDatabindJavaType:(ComFasterxmlJacksonDatabindJavaType *)typeHint {
  ComFasterxmlJacksonDatabindJsonSerializer *ser = _valueSerializer_;
  if (ser == nil) {
    ser = ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer__findSerializerWithComFasterxmlJacksonDatabindSerializerProvider_withComFasterxmlJacksonDatabindJavaType_withComFasterxmlJacksonDatabindBeanProperty_(self, [((id<ComFasterxmlJacksonDatabindJsonFormatVisitorsJsonFormatVisitorWrapper>) nil_chk(visitor)) getProvider], _referredType_, _property_);
    if (_unwrapper_ != nil) {
      ser = [((ComFasterxmlJacksonDatabindJsonSerializer *) nil_chk(ser)) unwrappingSerializerWithComFasterxmlJacksonDatabindUtilNameTransformer:_unwrapper_];
    }
  }
  [((ComFasterxmlJacksonDatabindJsonSerializer *) nil_chk(ser)) acceptJsonFormatVisitorWithComFasterxmlJacksonDatabindJsonFormatVisitorsJsonFormatVisitorWrapper:visitor withComFasterxmlJacksonDatabindJavaType:_referredType_];
}

- (ComFasterxmlJacksonDatabindJsonSerializer *)_findCachedSerializerWithComFasterxmlJacksonDatabindSerializerProvider:(ComFasterxmlJacksonDatabindSerializerProvider *)provider
                                                                                                         withIOSClass:(IOSClass *)type {
  return ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer__findCachedSerializerWithComFasterxmlJacksonDatabindSerializerProvider_withIOSClass_(self, provider, type);
}

- (ComFasterxmlJacksonDatabindJsonSerializer *)_findSerializerWithComFasterxmlJacksonDatabindSerializerProvider:(ComFasterxmlJacksonDatabindSerializerProvider *)provider
                                                                                                   withIOSClass:(IOSClass *)type
                                                                    withComFasterxmlJacksonDatabindBeanProperty:(id<ComFasterxmlJacksonDatabindBeanProperty>)prop {
  return ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer__findSerializerWithComFasterxmlJacksonDatabindSerializerProvider_withIOSClass_withComFasterxmlJacksonDatabindBeanProperty_(self, provider, type, prop);
}

- (ComFasterxmlJacksonDatabindJsonSerializer *)_findSerializerWithComFasterxmlJacksonDatabindSerializerProvider:(ComFasterxmlJacksonDatabindSerializerProvider *)provider
                                                                        withComFasterxmlJacksonDatabindJavaType:(ComFasterxmlJacksonDatabindJavaType *)type
                                                                    withComFasterxmlJacksonDatabindBeanProperty:(id<ComFasterxmlJacksonDatabindBeanProperty>)prop {
  return ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer__findSerializerWithComFasterxmlJacksonDatabindSerializerProvider_withComFasterxmlJacksonDatabindJavaType_withComFasterxmlJacksonDatabindBeanProperty_(self, provider, type, prop);
}

- (void)dealloc {
  RELEASE_(_referredType_);
  RELEASE_(_property_);
  RELEASE_(_valueTypeSerializer_);
  RELEASE_(_valueSerializer_);
  RELEASE_(_unwrapper_);
  RELEASE_(_dynamicSerializers_);
  RELEASE_(_suppressableValue_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, 0, -1, 1, -1, -1 },
    { NULL, NULL, 0x4, -1, 2, -1, 3, -1, -1 },
    { NULL, "LComFasterxmlJacksonDatabindJsonSerializer;", 0x1, 4, 5, -1, 6, -1, -1 },
    { NULL, "LComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer;", 0x404, 7, 8, -1, 9, -1, -1 },
    { NULL, "LComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer;", 0x401, 10, 11, -1, 12, -1, -1 },
    { NULL, "Z", 0x404, 13, 14, -1, 15, -1, -1 },
    { NULL, "LNSObject;", 0x404, 16, 14, -1, 17, -1, -1 },
    { NULL, "LNSObject;", 0x404, 18, 14, -1, 17, -1, -1 },
    { NULL, "LComFasterxmlJacksonDatabindJsonSerializer;", 0x1, 19, 20, 21, 22, -1, -1 },
    { NULL, "Z", 0x4, 23, 24, -1, -1, -1, -1 },
    { NULL, "Z", 0x1, 25, 26, -1, 27, -1, -1 },
    { NULL, "Z", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LComFasterxmlJacksonDatabindJavaType;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 28, 29, 30, 31, -1, -1 },
    { NULL, "V", 0x1, 32, 33, 30, 34, -1, -1 },
    { NULL, "V", 0x1, 35, 36, 21, -1, -1, -1 },
    { NULL, "LComFasterxmlJacksonDatabindJsonSerializer;", 0x12, 37, 38, 21, 39, -1, -1 },
    { NULL, "LComFasterxmlJacksonDatabindJsonSerializer;", 0x12, 40, 41, 21, 42, -1, -1 },
    { NULL, "LComFasterxmlJacksonDatabindJsonSerializer;", 0x12, 40, 43, 21, 44, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithComFasterxmlJacksonDatabindTypeReferenceType:withBoolean:withComFasterxmlJacksonDatabindJsontypeTypeSerializer:withComFasterxmlJacksonDatabindJsonSerializer:);
  methods[1].selector = @selector(initWithComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer:withComFasterxmlJacksonDatabindBeanProperty:withComFasterxmlJacksonDatabindJsontypeTypeSerializer:withComFasterxmlJacksonDatabindJsonSerializer:withComFasterxmlJacksonDatabindUtilNameTransformer:withId:withBoolean:);
  methods[2].selector = @selector(unwrappingSerializerWithComFasterxmlJacksonDatabindUtilNameTransformer:);
  methods[3].selector = @selector(withResolvedWithComFasterxmlJacksonDatabindBeanProperty:withComFasterxmlJacksonDatabindJsontypeTypeSerializer:withComFasterxmlJacksonDatabindJsonSerializer:withComFasterxmlJacksonDatabindUtilNameTransformer:);
  methods[4].selector = @selector(withContentInclusionWithId:withBoolean:);
  methods[5].selector = @selector(_isValuePresentWithId:);
  methods[6].selector = @selector(_getReferencedWithId:);
  methods[7].selector = @selector(_getReferencedIfPresentWithId:);
  methods[8].selector = @selector(createContextualWithComFasterxmlJacksonDatabindSerializerProvider:withComFasterxmlJacksonDatabindBeanProperty:);
  methods[9].selector = @selector(_useStaticWithComFasterxmlJacksonDatabindSerializerProvider:withComFasterxmlJacksonDatabindBeanProperty:withComFasterxmlJacksonDatabindJavaType:);
  methods[10].selector = @selector(isEmptyWithComFasterxmlJacksonDatabindSerializerProvider:withId:);
  methods[11].selector = @selector(isUnwrappingSerializer);
  methods[12].selector = @selector(getReferredType);
  methods[13].selector = @selector(serializeWithId:withComFasterxmlJacksonCoreJsonGenerator:withComFasterxmlJacksonDatabindSerializerProvider:);
  methods[14].selector = @selector(serializeWithTypeWithId:withComFasterxmlJacksonCoreJsonGenerator:withComFasterxmlJacksonDatabindSerializerProvider:withComFasterxmlJacksonDatabindJsontypeTypeSerializer:);
  methods[15].selector = @selector(acceptJsonFormatVisitorWithComFasterxmlJacksonDatabindJsonFormatVisitorsJsonFormatVisitorWrapper:withComFasterxmlJacksonDatabindJavaType:);
  methods[16].selector = @selector(_findCachedSerializerWithComFasterxmlJacksonDatabindSerializerProvider:withIOSClass:);
  methods[17].selector = @selector(_findSerializerWithComFasterxmlJacksonDatabindSerializerProvider:withIOSClass:withComFasterxmlJacksonDatabindBeanProperty:);
  methods[18].selector = @selector(_findSerializerWithComFasterxmlJacksonDatabindSerializerProvider:withComFasterxmlJacksonDatabindJavaType:withComFasterxmlJacksonDatabindBeanProperty:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "serialVersionUID", "J", .constantValue.asLong = ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer_serialVersionUID, 0x1a, -1, -1, -1, -1 },
    { "MARKER_FOR_EMPTY", "LNSObject;", .constantValue.asLong = 0, 0x19, -1, 45, -1, -1 },
    { "_referredType_", "LComFasterxmlJacksonDatabindJavaType;", .constantValue.asLong = 0, 0x14, -1, -1, -1, -1 },
    { "_property_", "LComFasterxmlJacksonDatabindBeanProperty;", .constantValue.asLong = 0, 0x14, -1, -1, -1, -1 },
    { "_valueTypeSerializer_", "LComFasterxmlJacksonDatabindJsontypeTypeSerializer;", .constantValue.asLong = 0, 0x14, -1, -1, -1, -1 },
    { "_valueSerializer_", "LComFasterxmlJacksonDatabindJsonSerializer;", .constantValue.asLong = 0, 0x14, -1, -1, 46, -1 },
    { "_unwrapper_", "LComFasterxmlJacksonDatabindUtilNameTransformer;", .constantValue.asLong = 0, 0x14, -1, -1, -1, -1 },
    { "_dynamicSerializers_", "LComFasterxmlJacksonDatabindSerImplPropertySerializerMap;", .constantValue.asLong = 0, 0x84, -1, -1, -1, -1 },
    { "_suppressableValue_", "LNSObject;", .constantValue.asLong = 0, 0x14, -1, -1, -1, -1 },
    { "_suppressNulls_", "Z", .constantValue.asLong = 0, 0x14, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LComFasterxmlJacksonDatabindTypeReferenceType;ZLComFasterxmlJacksonDatabindJsontypeTypeSerializer;LComFasterxmlJacksonDatabindJsonSerializer;", "(Lcom/fasterxml/jackson/databind/type/ReferenceType;ZLcom/fasterxml/jackson/databind/jsontype/TypeSerializer;Lcom/fasterxml/jackson/databind/JsonSerializer<Ljava/lang/Object;>;)V", "LComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer;LComFasterxmlJacksonDatabindBeanProperty;LComFasterxmlJacksonDatabindJsontypeTypeSerializer;LComFasterxmlJacksonDatabindJsonSerializer;LComFasterxmlJacksonDatabindUtilNameTransformer;LNSObject;Z", "(Lcom/fasterxml/jackson/databind/ser/std/ReferenceTypeSerializer<*>;Lcom/fasterxml/jackson/databind/BeanProperty;Lcom/fasterxml/jackson/databind/jsontype/TypeSerializer;Lcom/fasterxml/jackson/databind/JsonSerializer<*>;Lcom/fasterxml/jackson/databind/util/NameTransformer;Ljava/lang/Object;Z)V", "unwrappingSerializer", "LComFasterxmlJacksonDatabindUtilNameTransformer;", "(Lcom/fasterxml/jackson/databind/util/NameTransformer;)Lcom/fasterxml/jackson/databind/JsonSerializer<TT;>;", "withResolved", "LComFasterxmlJacksonDatabindBeanProperty;LComFasterxmlJacksonDatabindJsontypeTypeSerializer;LComFasterxmlJacksonDatabindJsonSerializer;LComFasterxmlJacksonDatabindUtilNameTransformer;", "(Lcom/fasterxml/jackson/databind/BeanProperty;Lcom/fasterxml/jackson/databind/jsontype/TypeSerializer;Lcom/fasterxml/jackson/databind/JsonSerializer<*>;Lcom/fasterxml/jackson/databind/util/NameTransformer;)Lcom/fasterxml/jackson/databind/ser/std/ReferenceTypeSerializer<TT;>;", "withContentInclusion", "LNSObject;Z", "(Ljava/lang/Object;Z)Lcom/fasterxml/jackson/databind/ser/std/ReferenceTypeSerializer<TT;>;", "_isValuePresent", "LNSObject;", "(TT;)Z", "_getReferenced", "(TT;)Ljava/lang/Object;", "_getReferencedIfPresent", "createContextual", "LComFasterxmlJacksonDatabindSerializerProvider;LComFasterxmlJacksonDatabindBeanProperty;", "LComFasterxmlJacksonDatabindJsonMappingException;", "(Lcom/fasterxml/jackson/databind/SerializerProvider;Lcom/fasterxml/jackson/databind/BeanProperty;)Lcom/fasterxml/jackson/databind/JsonSerializer<*>;", "_useStatic", "LComFasterxmlJacksonDatabindSerializerProvider;LComFasterxmlJacksonDatabindBeanProperty;LComFasterxmlJacksonDatabindJavaType;", "isEmpty", "LComFasterxmlJacksonDatabindSerializerProvider;LNSObject;", "(Lcom/fasterxml/jackson/databind/SerializerProvider;TT;)Z", "serialize", "LNSObject;LComFasterxmlJacksonCoreJsonGenerator;LComFasterxmlJacksonDatabindSerializerProvider;", "LJavaIoIOException;", "(TT;Lcom/fasterxml/jackson/core/JsonGenerator;Lcom/fasterxml/jackson/databind/SerializerProvider;)V", "serializeWithType", "LNSObject;LComFasterxmlJacksonCoreJsonGenerator;LComFasterxmlJacksonDatabindSerializerProvider;LComFasterxmlJacksonDatabindJsontypeTypeSerializer;", "(TT;Lcom/fasterxml/jackson/core/JsonGenerator;Lcom/fasterxml/jackson/databind/SerializerProvider;Lcom/fasterxml/jackson/databind/jsontype/TypeSerializer;)V", "acceptJsonFormatVisitor", "LComFasterxmlJacksonDatabindJsonFormatVisitorsJsonFormatVisitorWrapper;LComFasterxmlJacksonDatabindJavaType;", "_findCachedSerializer", "LComFasterxmlJacksonDatabindSerializerProvider;LIOSClass;", "(Lcom/fasterxml/jackson/databind/SerializerProvider;Ljava/lang/Class<*>;)Lcom/fasterxml/jackson/databind/JsonSerializer<Ljava/lang/Object;>;", "_findSerializer", "LComFasterxmlJacksonDatabindSerializerProvider;LIOSClass;LComFasterxmlJacksonDatabindBeanProperty;", "(Lcom/fasterxml/jackson/databind/SerializerProvider;Ljava/lang/Class<*>;Lcom/fasterxml/jackson/databind/BeanProperty;)Lcom/fasterxml/jackson/databind/JsonSerializer<Ljava/lang/Object;>;", "LComFasterxmlJacksonDatabindSerializerProvider;LComFasterxmlJacksonDatabindJavaType;LComFasterxmlJacksonDatabindBeanProperty;", "(Lcom/fasterxml/jackson/databind/SerializerProvider;Lcom/fasterxml/jackson/databind/JavaType;Lcom/fasterxml/jackson/databind/BeanProperty;)Lcom/fasterxml/jackson/databind/JsonSerializer<Ljava/lang/Object;>;", &ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer_MARKER_FOR_EMPTY, "Lcom/fasterxml/jackson/databind/JsonSerializer<Ljava/lang/Object;>;", "<T:Ljava/lang/Object;>Lcom/fasterxml/jackson/databind/ser/std/StdSerializer<TT;>;Lcom/fasterxml/jackson/databind/ser/ContextualSerializer;" };
  static const J2ObjcClassInfo _ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer = { "ReferenceTypeSerializer", "com.fasterxml.jackson.databind.ser.std", ptrTable, methods, fields, 7, 0x401, 19, 10, -1, -1, -1, 47, -1 };
  return &_ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer;
}

+ (void)initialize {
  if (self == [ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer class]) {
    JreStrongAssign(&ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer_MARKER_FOR_EMPTY, JreLoadEnum(ComFasterxmlJacksonAnnotationJsonInclude_Include, NON_EMPTY));
    J2OBJC_SET_INITIALIZED(ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer)
  }
}

@end

void ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer_initWithComFasterxmlJacksonDatabindTypeReferenceType_withBoolean_withComFasterxmlJacksonDatabindJsontypeTypeSerializer_withComFasterxmlJacksonDatabindJsonSerializer_(ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer *self, ComFasterxmlJacksonDatabindTypeReferenceType *fullType, jboolean staticTyping, ComFasterxmlJacksonDatabindJsontypeTypeSerializer *vts, ComFasterxmlJacksonDatabindJsonSerializer *ser) {
  ComFasterxmlJacksonDatabindSerStdStdSerializer_initWithComFasterxmlJacksonDatabindJavaType_(self, fullType);
  JreStrongAssign(&self->_referredType_, [((ComFasterxmlJacksonDatabindTypeReferenceType *) nil_chk(fullType)) getReferencedType]);
  JreStrongAssign(&self->_property_, nil);
  JreStrongAssign(&self->_valueTypeSerializer_, vts);
  JreStrongAssign(&self->_valueSerializer_, ser);
  JreStrongAssign(&self->_unwrapper_, nil);
  JreStrongAssign(&self->_suppressableValue_, nil);
  self->_suppressNulls_ = false;
  JreStrongAssign(&self->_dynamicSerializers_, ComFasterxmlJacksonDatabindSerImplPropertySerializerMap_emptyForProperties());
}

void ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer_initWithComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer_withComFasterxmlJacksonDatabindBeanProperty_withComFasterxmlJacksonDatabindJsontypeTypeSerializer_withComFasterxmlJacksonDatabindJsonSerializer_withComFasterxmlJacksonDatabindUtilNameTransformer_withId_withBoolean_(ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer *self, ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer *base, id<ComFasterxmlJacksonDatabindBeanProperty> property, ComFasterxmlJacksonDatabindJsontypeTypeSerializer *vts, ComFasterxmlJacksonDatabindJsonSerializer *valueSer, ComFasterxmlJacksonDatabindUtilNameTransformer *unwrapper, id suppressableValue, jboolean suppressNulls) {
  ComFasterxmlJacksonDatabindSerStdStdSerializer_initWithComFasterxmlJacksonDatabindSerStdStdSerializer_(self, base);
  JreStrongAssign(&self->_referredType_, ((ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer *) nil_chk(base))->_referredType_);
  JreStrongAssign(&self->_dynamicSerializers_, base->_dynamicSerializers_);
  JreStrongAssign(&self->_property_, property);
  JreStrongAssign(&self->_valueTypeSerializer_, vts);
  JreStrongAssign(&self->_valueSerializer_, valueSer);
  JreStrongAssign(&self->_unwrapper_, unwrapper);
  JreStrongAssign(&self->_suppressableValue_, suppressableValue);
  self->_suppressNulls_ = suppressNulls;
}

ComFasterxmlJacksonDatabindJsonSerializer *ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer__findCachedSerializerWithComFasterxmlJacksonDatabindSerializerProvider_withIOSClass_(ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer *self, ComFasterxmlJacksonDatabindSerializerProvider *provider, IOSClass *type) {
  ComFasterxmlJacksonDatabindJsonSerializer *ser = [((ComFasterxmlJacksonDatabindSerImplPropertySerializerMap *) nil_chk(self->_dynamicSerializers_)) serializerForWithIOSClass:type];
  if (ser == nil) {
    ser = ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer__findSerializerWithComFasterxmlJacksonDatabindSerializerProvider_withIOSClass_withComFasterxmlJacksonDatabindBeanProperty_(self, provider, type, self->_property_);
    if (self->_unwrapper_ != nil) {
      ser = [((ComFasterxmlJacksonDatabindJsonSerializer *) nil_chk(ser)) unwrappingSerializerWithComFasterxmlJacksonDatabindUtilNameTransformer:self->_unwrapper_];
    }
    JreStrongAssign(&self->_dynamicSerializers_, [((ComFasterxmlJacksonDatabindSerImplPropertySerializerMap *) nil_chk(self->_dynamicSerializers_)) newWithWithIOSClass:type withComFasterxmlJacksonDatabindJsonSerializer:ser]);
  }
  return ser;
}

ComFasterxmlJacksonDatabindJsonSerializer *ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer__findSerializerWithComFasterxmlJacksonDatabindSerializerProvider_withIOSClass_withComFasterxmlJacksonDatabindBeanProperty_(ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer *self, ComFasterxmlJacksonDatabindSerializerProvider *provider, IOSClass *type, id<ComFasterxmlJacksonDatabindBeanProperty> prop) {
  return [((ComFasterxmlJacksonDatabindSerializerProvider *) nil_chk(provider)) findValueSerializerWithIOSClass:type withComFasterxmlJacksonDatabindBeanProperty:prop];
}

ComFasterxmlJacksonDatabindJsonSerializer *ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer__findSerializerWithComFasterxmlJacksonDatabindSerializerProvider_withComFasterxmlJacksonDatabindJavaType_withComFasterxmlJacksonDatabindBeanProperty_(ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer *self, ComFasterxmlJacksonDatabindSerializerProvider *provider, ComFasterxmlJacksonDatabindJavaType *type, id<ComFasterxmlJacksonDatabindBeanProperty> prop) {
  return [((ComFasterxmlJacksonDatabindSerializerProvider *) nil_chk(provider)) findValueSerializerWithComFasterxmlJacksonDatabindJavaType:type withComFasterxmlJacksonDatabindBeanProperty:prop];
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComFasterxmlJacksonDatabindSerStdReferenceTypeSerializer)
